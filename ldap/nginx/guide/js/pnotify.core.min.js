(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){var b={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:d("body")};var f,a,e=d(window);var c=function(){a=d("body");PNotify.prototype.options.stack.context=a;e=d(window);e.bind("resize",function(){if(f){clearTimeout(f)}f=setTimeout(function(){PNotify.positionAll(true)},10)})};PNotify=function(g){this.parseOptions(g);this.init()};d.extend(PNotify.prototype,{version:"2.0.0",options:{title:false,title_escape:false,text:false,text_escape:false,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:true,width:"300px",min_height:"16px",type:"notice",icon:true,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:true,hide:true,delay:8000,mouse_reset:true,remove:true,insert_brs:true,destroy:true,stack:b},modules:{},runModules:function(j,g){var i;for(var h in this.modules){i=((typeof g==="object"&&h in g)?g[h]:g);if(typeof this.modules[h][j]==="function"){this.modules[h][j](this,typeof this.options[h]==="object"?this.options[h]:{},i)}}},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:false,timerHide:false,init:function(){var g=this;this.modules={};d.extend(true,this.modules,PNotify.prototype.modules);if(typeof this.options.styling==="object"){this.styles=this.options.styling}else{this.styles=PNotify.styling[this.options.styling]}this.elem=d("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},mouseenter:function(h){if(g.options.mouse_reset&&g.animating==="out"){if(!g.timerHide){return}g.elem.stop(true);g.state="open";g.animating="in";g.elem.css("height","auto").animate({width:g.options.width,opacity:g.options.opacity},"fast")}if(g.options.hide&&g.options.mouse_reset){g.cancelRemove()}},mouseleave:function(h){if(g.options.hide&&g.options.mouse_reset){g.queueRemove()}PNotify.positionAll()}});this.container=d("<div />",{"class":this.styles.container+" ui-pnotify-container "+(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}).appendTo(this.elem);if(this.options.cornerclass!==""){this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass)}if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}if(this.options.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}this.title_container=d("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container);if(this.options.title===false){this.title_container.hide()}else{if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}}this.text_container=d("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container);if(this.options.text===false){this.text_container.hide()}else{if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}}if(typeof this.options.width==="string"){this.elem.css("width",this.options.width)}if(typeof this.options.min_height==="string"){this.container.css("min-height",this.options.min_height)}if(this.options.stack.push==="top"){PNotify.notices=d.merge([this],PNotify.notices)}else{PNotify.notices=d.merge(PNotify.notices,[this])}if(this.options.stack.push==="top"){this.queuePosition(false,1)}this.options.stack.animation=false;this.runModules("init");if(this.options.auto_display){this.open()}return this},update:function(g){var h=this.options;this.parseOptions(h,g);if(this.options.cornerclass!==h.cornerclass){this.container.removeClass("ui-corner-all "+h.cornerclass).addClass(this.options.cornerclass)}if(this.options.shadow!==h.shadow){if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}else{this.container.removeClass("ui-pnotify-shadow")}}if(this.options.addclass===false){this.elem.removeClass(h.addclass)}else{if(this.options.addclass!==h.addclass){this.elem.removeClass(h.addclass).addClass(this.options.addclass)}}if(this.options.title===false){this.title_container.slideUp("fast")}else{if(this.options.title!==h.title){if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}if(h.title===false){this.title_container.slideDown(200)}}}if(this.options.text===false){this.text_container.slideUp("fast")}else{if(this.options.text!==h.text){if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}if(h.text===false){this.text_container.slideDown(200)}}}if(this.options.type!==h.type){this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}if(this.options.icon!==h.icon||(this.options.icon===true&&this.options.type!==h.type)){this.container.find("div.ui-pnotify-icon").remove();if(this.options.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}}if(this.options.width!==h.width){this.elem.animate({width:this.options.width})}if(this.options.min_height!==h.min_height){this.container.animate({minHeight:this.options.min_height})}if(this.options.opacity!==h.opacity){this.elem.fadeTo(this.options.animate_speed,this.options.opacity)}if(!this.options.hide){this.cancelRemove()}else{if(!h.hide){this.queueRemove()}}this.queuePosition(true);this.runModules("update",h);return this},open:function(){this.state="opening";this.runModules("beforeOpen");var g=this;if(!this.elem.parent().length){this.elem.appendTo(this.options.stack.context?this.options.stack.context:a)}if(this.options.stack.push!=="top"){this.position(true)}if(this.options.animation==="fade"||this.options.animation.effect_in==="fade"){this.elem.show().fadeTo(0,0).hide()}else{if(this.options.opacity!==1){this.elem.show().fadeTo(0,this.options.opacity).hide()}}this.animateIn(function(){g.queuePosition(true);if(g.options.hide){g.queueRemove()}g.state="open";g.runModules("afterOpen")});return this},remove:function(g){this.state="closing";this.timerHide=!!g;this.runModules("beforeClose");var h=this;if(this.timer){window.clearTimeout(this.timer);this.timer=null}this.animateOut(function(){h.state="closed";h.runModules("afterClose");h.queuePosition(true);if(h.options.remove){h.elem.detach()}h.runModules("beforeDestroy");if(h.options.destroy){if(PNotify.notices!==null){var i=d.inArray(h,PNotify.notices);if(i!==-1){PNotify.notices.splice(i,1)}}}h.runModules("afterDestroy")});return this},get:function(){return this.elem},parseOptions:function(h,l){this.options=d.extend(true,{},PNotify.prototype.options);this.options.stack=PNotify.prototype.options.stack;var g=[h,l],k;for(var i in g){k=g[i];if(typeof k=="undefined"){break}if(typeof k!=="object"){this.options.text=k}else{for(var j in k){if(this.modules[j]){d.extend(true,this.options[j],k[j])}else{this.options[j]=k[j]}}}}},animateIn:function(h){this.animating="in";var g;if(typeof this.options.animation.effect_in!=="undefined"){g=this.options.animation.effect_in}else{g=this.options.animation}if(g==="none"){this.elem.show();h()}else{if(g==="show"){this.elem.show(this.options.animate_speed,h)}else{if(g==="fade"){this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,h)}else{if(g==="slide"){this.elem.slideDown(this.options.animate_speed,h)}else{if(typeof g==="function"){g("in",h,this.elem)}else{this.elem.show(g,(typeof this.options.animation.options_in==="object"?this.options.animation.options_in:{}),this.options.animate_speed,h)}}}}}},animateOut:function(h){this.animating="out";var g;if(typeof this.options.animation.effect_out!=="undefined"){g=this.options.animation.effect_out}else{g=this.options.animation}if(g==="none"){this.elem.hide();h()}else{if(g==="show"){this.elem.hide(this.options.animate_speed,h)}else{if(g==="fade"){this.elem.fadeOut(this.options.animate_speed,h)}else{if(g==="slide"){this.elem.slideUp(this.options.animate_speed,h)}else{if(typeof g==="function"){g("out",h,this.elem)}else{this.elem.hide(g,(typeof this.options.animation.options_out==="object"?this.options.animation.options_out:{}),this.options.animate_speed,h)}}}}}},position:function(g){var k=this.options.stack;if(typeof k.context==="undefined"){k.context=a}if(!k){return}if(typeof k.nextpos1!=="number"){k.nextpos1=k.firstpos1}if(typeof k.nextpos2!=="number"){k.nextpos2=k.firstpos2}if(typeof k.addpos2!=="number"){k.addpos2=0}var n=this.elem.css("display")==="none";if(!n||g){var m,l;var h={};var j;switch(k.dir1){case"down":j="top";break;case"up":j="bottom";break;case"left":j="right";break;case"right":j="left";break}m=parseInt(this.elem.css(j).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(m)){m=0}if(typeof k.firstpos1==="undefined"&&!n){k.firstpos1=m;k.nextpos1=k.firstpos1}var i;switch(k.dir2){case"down":i="top";break;case"up":i="bottom";break;case"left":i="right";break;case"right":i="left";break}l=parseInt(this.elem.css(i).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(l)){l=0}if(typeof k.firstpos2==="undefined"&&!n){k.firstpos2=l;k.nextpos2=k.firstpos2}if((k.dir1==="down"&&k.nextpos1+this.elem.height()>(k.context.is(a)?e.height():k.context.prop("scrollHeight")))||(k.dir1==="up"&&k.nextpos1+this.elem.height()>(k.context.is(a)?e.height():k.context.prop("scrollHeight")))||(k.dir1==="left"&&k.nextpos1+this.elem.width()>(k.context.is(a)?e.width():k.context.prop("scrollWidth")))||(k.dir1==="right"&&k.nextpos1+this.elem.width()>(k.context.is(a)?e.width():k.context.prop("scrollWidth")))){k.nextpos1=k.firstpos1;k.nextpos2+=k.addpos2+(typeof k.spacing2==="undefined"?25:k.spacing2);k.addpos2=0}if(k.animation&&k.nextpos2<l){switch(k.dir2){case"down":h.top=k.nextpos2+"px";break;case"up":h.bottom=k.nextpos2+"px";break;case"left":h.right=k.nextpos2+"px";break;case"right":h.left=k.nextpos2+"px";break}}else{if(typeof k.nextpos2==="number"){this.elem.css(i,k.nextpos2+"px")}}switch(k.dir2){case"down":case"up":if(this.elem.outerHeight(true)>k.addpos2){k.addpos2=this.elem.height()}break;case"left":case"right":if(this.elem.outerWidth(true)>k.addpos2){k.addpos2=this.elem.width()}break}if(typeof k.nextpos1==="number"){if(k.animation&&(m>k.nextpos1||h.top||h.bottom||h.right||h.left)){switch(k.dir1){case"down":h.top=k.nextpos1+"px";break;case"up":h.bottom=k.nextpos1+"px";break;case"left":h.right=k.nextpos1+"px";break;case"right":h.left=k.nextpos1+"px";break}}else{this.elem.css(j,k.nextpos1+"px")}}if(h.top||h.bottom||h.right||h.left){this.elem.animate(h,{duration:this.options.position_animate_speed,queue:false})}switch(k.dir1){case"down":case"up":k.nextpos1+=this.elem.height()+(typeof k.spacing1==="undefined"?25:k.spacing1);break;case"left":case"right":k.nextpos1+=this.elem.width()+(typeof k.spacing1==="undefined"?25:k.spacing1);break}}return this},queuePosition:function(g,h){if(f){clearTimeout(f)}if(!h){h=10}f=setTimeout(function(){PNotify.positionAll(g)},h);return this},cancelRemove:function(){if(this.timer){window.clearTimeout(this.timer)}return this},queueRemove:function(){var g=this;this.cancelRemove();this.timer=window.setTimeout(function(){g.remove(true)},(isNaN(this.options.delay)?0:this.options.delay));return this}});d.extend(PNotify,{notices:[],removeAll:function(){d.each(PNotify.notices,function(){if(this.remove){this.remove()}})},positionAll:function(g){if(f){clearTimeout(f)}f=null;d.each(PNotify.notices,function(){var h=this.options.stack;if(!h){return}h.nextpos1=h.firstpos1;h.nextpos2=h.firstpos2;h.addpos2=0;h.animation=g});d.each(PNotify.notices,function(){this.position()})},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});PNotify.styling.fontawesome=d.extend({},PNotify.styling.bootstrap3);d.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});if(document.body){c()}else{d(c)}}));